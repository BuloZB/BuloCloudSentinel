# Bulo.Cloud Sentinel

<div align="center">
  <img src="docs/images/logo.png" alt="Bulo.Cloud Sentinel Logo" width="200"/>
  <h3>Multi-Role Drone Framework</h3>
  <p>Advanced surveillance, monitoring, and tactical capabilities for drone fleets</p>
</div>

## ğŸŒŸ Overview

Bulo.Cloud Sentinel is an open-source framework for building advanced drone-based surveillance and monitoring systems. It provides a comprehensive set of tools and services for managing drone fleets, processing sensor data, and extracting actionable insights.

The platform is designed to be modular, scalable, and extensible, allowing you to build custom solutions for a wide range of use cases, from security and surveillance to environmental monitoring and infrastructure inspection.

## âœ¨ Features

### ğŸš Core Platform

The core platform provides the foundation for building drone-based surveillance and monitoring systems:

- **ğŸ”„ Drone Fleet Management**: Centralized control and monitoring of multiple drones
- **ğŸ“¡ Telemetry Processing**: Real-time processing of drone telemetry data
- **ğŸ¥ Video Streaming**: Low-latency video streaming from drone cameras
- **ğŸ—ºï¸ Mission Planning**: Visual mission planning and execution
- **ğŸ“Š Data Visualization**: Real-time visualization of drone data
- **ğŸ”Œ API Integration**: RESTful API for integration with external systems
- **ğŸ”’ Security**: End-to-end encryption and secure authentication
- **ğŸ“± Mobile Support**: Responsive web interface and mobile app
- **ğŸŒ Mesh Networking**: Drone-to-drone communication for extended range
- **ğŸ”‹ Battery Management**: Intelligent battery monitoring and management
- **ğŸ›°ï¸ GPS Tracking**: Real-time GPS tracking and geofencing
- **âš¡ Power Management**: Adaptive power management for extended flight time
- **ğŸŒ¦ï¸ Weather Integration**: Real-time weather data integration
- **ğŸ” Regulatory Compliance**: Tools for maintaining compliance with drone regulations
- **ğŸ¤– Autonomous Operation**: Autonomous flight capabilities with obstacle avoidance
- **ğŸ”„ Multi-Drone Coordination**: Coordinated operations across multiple drones

### ğŸ§  Sentinel AI

Sentinel AI provides advanced artificial intelligence capabilities for the Bulo.Cloud Sentinel platform, including:

- **ğŸ‘ï¸ Computer Vision**: Object detection, tracking, and classification
- **ğŸ” Anomaly Detection**: Identifying unusual patterns and behaviors
- **ğŸ“Š Predictive Analytics**: Forecasting trends and potential issues
- **ğŸ—£ï¸ Natural Language Processing**: Command interpretation and reporting
- **ğŸ”€ Multimodal Detection**: Fusion of visual, thermal, and depth data for superior detection accuracy
- **ğŸŒ¡ï¸ Thermal Analysis**: Detection in low-light and adverse weather conditions
- **ğŸ“ Depth Perception**: Accurate distance estimation and 3D object localization
- **ğŸ”„ Sensor Fusion**: Advanced algorithms for integrating data from multiple sensors
- **ğŸš€ Lightweight ML Runtime**: TinyGrad integration for efficient on-board inference
- **ğŸ”Œ Multiple ML Backends**: Support for TinyGrad, PyTorch, and TensorFlow Lite
- **ğŸ’» Hardware Acceleration**: Automatic detection and utilization of CUDA, OpenCL, and CPU

### ğŸŒ SentinelWeb

SentinelWeb is a web-based interface for the Bulo.Cloud Sentinel platform, providing:

- **ğŸ” User Authentication**: Secure user authentication and authorization
- **ğŸ“Š Dashboard**: Customizable dashboard for monitoring drone fleets
- **ğŸ® Mission Control**: Real-time mission control and monitoring
- **ğŸ“¹ Live Video**: Low-latency video streaming from drone cameras
- **ğŸ¤– AI Integration**: Integration with Sentinel AI for advanced analytics
- **ğŸ”Œ Extensibility**: Plugin system for adding custom functionality
- **ğŸ“± Responsive Design**: Mobile-friendly interface for on-the-go access
- **ğŸŒ Offline Operation**: Offline capabilities for remote operations
- **ğŸ”„ Real-time Updates**: Real-time updates of drone telemetry and status
- **ğŸ” Search**: Advanced search capabilities for finding specific data
- **ğŸ“Š Analytics**: Comprehensive analytics and reporting
- **ğŸ”” Notifications**: Real-time notifications for important events
- **ğŸ“ Documentation**: Integrated documentation and help system
- **ğŸ”’ Security**: End-to-end encryption and secure authentication
- **ğŸŒ™ Dark Mode**: Dark mode support for reduced eye strain

### ğŸ›¡ï¸ Tactical Capabilities

The Tactical Capabilities module provides advanced features for tactical operations:

- **ğŸ” ISR**: Intelligence, Surveillance, and Reconnaissance capabilities
- **ğŸ“¡ SIGINT**: Signal Intelligence for monitoring and analyzing electronic signals
- **âš¡ Electronic Warfare**: Electronic countermeasures and protection
- **ğŸ”„ Mesh Networking**: Drone-to-drone communication for extended range
- **ğŸ¤– Autonomous Operation**: Autonomous mission execution with minimal human intervention
- **ğŸ¯ Target Acquisition**: Automated target acquisition and tracking
- **ğŸ”„ Sensor Fusion**: Integration of data from multiple sensors for enhanced situational awareness
- **ğŸ”’ Secure Communications**: Encrypted communications for sensitive operations
- **ğŸŒ Geofencing**: Virtual boundaries for restricting drone operations
- **ğŸ”‹ Power Management**: Intelligent power management for extended mission duration
- **ğŸŒ¦ï¸ Weather Integration**: Real-time weather data for mission planning
- **ğŸ“Š Mission Analytics**: Comprehensive analytics for mission assessment
- **ğŸ”„ Multi-Drone Coordination**: Coordinated operations across multiple drones
- **ğŸ” OSINT Integration**: Open-source intelligence integration for enhanced situational awareness
- **ğŸ›¡ï¸ Anti-Jamming**: Protection against GPS and communication jamming

### ğŸ” Vision System

The Vision System provides advanced computer vision capabilities for the Bulo.Cloud Sentinel platform:

- **ğŸ‘ï¸ Object Detection**: Detect and classify objects in video streams
- **ğŸ” Facial Recognition**: Identify and track individuals in video streams
- **ğŸš— License Plate Recognition**: Identify and track vehicles by license plate
- **ğŸ”„ Multi-Camera Tracking**: Track objects across multiple camera views
- **ğŸŒ¡ï¸ Thermal Imaging**: Process thermal imagery for detection in low-light conditions
- **ğŸ“ Depth Sensing**: Process depth data for 3D object localization
- **ğŸ”„ Sensor Fusion**: Combine data from multiple sensors for enhanced detection
- **ğŸ” Anomaly Detection**: Identify unusual patterns and behaviors
- **ğŸ”„ Motion Detection**: Detect and track motion in video streams
- **ğŸŒ¡ï¸ Density Heat Maps**: Generate heat maps for visualizing crowd and vehicle density
- **ğŸ“Š Occupancy Analytics**: Calculate space utilization and occupancy rates
- **ğŸ“ˆ Trend Analysis**: Identify patterns and trends in historical data
- **ğŸ—ºï¸ Spatial Mapping**: Map detections to geographic coordinates
- **âš¡ Real-time Processing**: Process video streams in real-time with minimal latency

### âœ¨ Drone Show Microservice

The Drone Show Microservice enables planning, simulation, and execution of choreographed drone light shows:

- **ğŸ­ Choreography Definition**: JSON-based format for defining LED patterns and waypoints
- **ğŸ® Simulation & Preview**: 3D visualization of drone positions and LED states
- **ğŸ”„ Execution Engine**: Synchronized execution of choreographies across a fleet of drones
- **ğŸ“Š Monitoring & Logging**: Real-time telemetry and logging of show execution
- **ğŸ”Œ Integration**: Seamless integration with Bulo.Cloud Sentinel platform
- **ğŸ¨ Blender Integration**: Custom Blender add-on for creating and exporting drone choreographies
- **ğŸµ Music Synchronization**: Synchronize LED patterns with music
- **â±ï¸ Time Synchronization**: Precise timing across all drones for coordinated shows
- **ğŸ”„ Formation Transitions**: Smooth transitions between different formations (grid, circle, custom)
- **ğŸ”‹ Battery Management**: Optimize shows based on battery levels
- **ğŸ”’ Security Hardened**: Comprehensive security measures and dependency management

### ğŸ”’ Security Module

The Security Module provides comprehensive security features for the Bulo.Cloud Sentinel platform:

- **ğŸ” Advanced Authentication**: JWT with enhanced validation, OAuth2, and multi-factor authentication
- **ğŸ”‘ Role-Based Access Control**: Fine-grained permission management with secure token validation
- **ğŸ”’ Data Encryption**: End-to-end encryption with modern algorithms and secure key management
- **ğŸ” Security Monitoring**: Real-time monitoring and alerting for security events
- **ğŸ” Vulnerability Scanning**: Automated scanning for known vulnerabilities
- **ğŸ“ Secure Audit Logging**: Comprehensive logging with sensitive data masking
- **ğŸš« Rate Limiting**: Configurable rate limiting for all API endpoints
- **ğŸ”— Secure Communications**: TLS/SSL implementation with proper certificate validation
- **ğŸ”“ Input Validation**: Comprehensive validation library to prevent injection attacks
- **ğŸ›¡ï¸ XSS Protection**: Advanced HTML sanitization and Content Security Policy
- **ğŸ”’ CSRF Protection**: Double Submit Cookie pattern and SameSite cookie attributes
- **ğŸ“Š Security Headers**: Comprehensive security headers including CSP and Permissions Policy
- **ğŸ” File Validation**: Secure file upload validation with content type verification
- **ğŸ” SQL Injection Protection**: Parameterized queries and ORM-based database access
- **ğŸ”„ Key Rotation**: Automatic key rotation for cryptographic keys
- **ğŸ”’ Secure Error Handling**: Error handling that prevents information leakage
- **ğŸ›¡ï¸ CORS Protection**: Strict Cross-Origin Resource Sharing configuration
- **ğŸ” Secure Password Handling**: Argon2id password hashing with proper salting
- **ğŸ“ Secure Logging**: Logging utilities that mask sensitive data automatically

## ğŸš€ Getting Started

### Prerequisites

- Python 3.10+
- Docker and Docker Compose
- NVIDIA GPU with CUDA support (optional, for accelerated processing)
- Raspberry Pi 4 or newer (for edge deployment)
- NVIDIA Jetson (for edge AI processing)

### ML Backends

Bulo.Cloud Sentinel supports multiple ML backends for inference:

- **TinyGrad**: A lightweight ML runtime for on-board inference
- **PyTorch**: A full-featured ML framework for high-performance inference
- **TensorFlow Lite**: A lightweight ML runtime for mobile and edge devices

You can select the backend to use via the `ML_BACKEND` environment variable or the `--ml-backend` command-line option:

```bash
# Using environment variable
export ML_BACKEND=tinygrad
python -m ai.cli run --model models/mobilenet_v2.npz --image examples/data/sample_image.jpg

# Using command-line option
python -m ai.cli run --model models/mobilenet_v2.npz --image examples/data/sample_image.jpg --backend tinygrad

# Using Docker
docker run -e ML_BACKEND=tinygrad bulosentinel
```

For more information about the available backends and their capabilities, see [AI Backends Documentation](docs/ai_backends.md).

### Installation

1. Clone the repository:

```bash
git clone https://github.com/BuloZB/BuloCloudSentinel.git
cd BuloCloudSentinel
```

2. Install dependencies:

```bash
pip install -r requirements.txt
```

3. Build and run the Docker containers:

```bash
docker-compose up -d
```

### Running the TinyGrad Demo

To run the TinyGrad demo:

```bash
# Using the default backend (PyTorch)
python examples/tinygrad_demo.py

# Using TinyGrad backend
python examples/tinygrad_demo.py --backend tinygrad

# Using TinyGrad backend with CUDA
python examples/tinygrad_demo.py --backend tinygrad --device CUDA
```

### Benchmarking ML Backends

To benchmark the performance of different ML backends:

```bash
# Benchmark all backends
python examples/benchmark_backends.py

# Benchmark a specific backend
python examples/benchmark_backends.py --backends tinygrad

# Benchmark with CUDA
python examples/benchmark_backends.py --device CUDA
```

## ğŸ› ï¸ Development

### Project Structure

```
bulo-cloud-sentinel/
â”œâ”€â”€ .github/              # GitHub workflows and templates
â”œâ”€â”€ addons/               # Platform addons
â”œâ”€â”€ ai/                   # AI core components
â”‚   â””â”€â”€ inference/        # ML inference backends
â”‚       â”œâ”€â”€ base.py       # Base class for inference backends
â”‚       â”œâ”€â”€ engine.py     # Central engine for loading backends
â”‚       â”œâ”€â”€ tinygrad_backend.py # TinyGrad inference backend
â”‚       â”œâ”€â”€ torch_backend.py    # PyTorch inference backend
â”‚       â””â”€â”€ tflite_backend.py   # TensorFlow Lite inference backend
â”œâ”€â”€ ai_analytics/         # Advanced AI and Analytics module
â”‚   â”œâ”€â”€ models/           # AI model definitions
â”‚   â”‚   â”œâ”€â”€ detection/    # Object detection models
â”‚   â”‚   â”œâ”€â”€ recognition/  # Face and license plate recognition
â”‚   â”‚   â”œâ”€â”€ multimodal/   # Multimodal detection models
â”‚   â”‚   â””â”€â”€ predictive/   # Predictive analytics models
â”‚   â”œâ”€â”€ api/              # API endpoints
â”‚   â”œâ”€â”€ services/         # Business logic services
â”‚   â””â”€â”€ config/           # Configuration files
â”œâ”€â”€ ai_detection/         # AI-based detection capabilities
â”œâ”€â”€ anti_jamming_service/  # GNSS anti-jamming and RF protection
â”œâ”€â”€ backend/              # FastAPI backend service
â”‚   â”œâ”€â”€ api/              # API endpoints
â”‚   â”œâ”€â”€ core/             # Core functionality
â”‚   â”œâ”€â”€ db/               # Database models and connections
â”‚   â”œâ”€â”€ services/         # Business logic services
â”‚   â””â”€â”€ main.py           # Application entry point
â”œâ”€â”€ docs/                 # Documentation
â”œâ”€â”€ docker/               # Docker configuration files
â”‚   â””â”€â”€ bulosentinel.Dockerfile # Docker configuration for tinygrad integration
â”œâ”€â”€ dronecore/            # Core drone control libraries
â”œâ”€â”€ examples/             # Example scripts and demos
â”‚   â””â”€â”€ tinygrad_demo.py  # Demo of TinyGrad inference backend
â”œâ”€â”€ drone_show_service/   # Drone Show microservice for light shows
â”‚   â”œâ”€â”€ addons/           # Blender integration and other add-ons
â”‚   â”œâ”€â”€ api/              # API endpoints
â”‚   â”œâ”€â”€ core/             # Core functionality
â”‚   â”œâ”€â”€ kubernetes/        # Kubernetes deployment manifests
â”‚   â”œâ”€â”€ models/           # Data models
â”‚   â”œâ”€â”€ services/         # Business logic services
â”‚   â””â”€â”€ utils/            # Utility functions
â”œâ”€â”€ drone_swarm_system/   # Drone Swarm System microservice
â”œâ”€â”€ frontend/             # React frontend application
â”‚   â”œâ”€â”€ public/           # Static assets
â”‚   â””â”€â”€ src/              # Source code
â”‚       â”œâ”€â”€ components/   # Reusable UI components
â”‚       â”œâ”€â”€ pages/        # Page components
â”‚       â”œâ”€â”€ services/     # API service clients
â”‚       â”œâ”€â”€ store/        # State management
â”‚       â””â”€â”€ App.js        # Main application component
â”œâ”€â”€ indoor_drone_system/  # Indoor drone navigation system
â”œâ”€â”€ rtmp_server/          # RTMP server for video streaming
â”œâ”€â”€ security/             # Security Module for comprehensive protection
â”œâ”€â”€ sentinelweb/          # Web interface based on OpenWebUI
â”œâ”€â”€ tactical_capabilities/ # Tactical capabilities modules
â”‚   â”œâ”€â”€ ew_service/       # Electronic Warfare service
â”‚   â”œâ”€â”€ isr_service/      # Intelligence, Surveillance, and Reconnaissance service
â”‚   â”œâ”€â”€ sentinel_beacon/  # Meshtastic-based mesh communication for drones
â”‚   â”œâ”€â”€ sigint_service/   # Signal Intelligence service
â”‚   â””â”€â”€ tacs/             # Target Acquisition and Coordination System
â”œâ”€â”€ tests/                # Test files
â”‚   â””â”€â”€ test_tinygrad_backend.py # Tests for TinyGrad inference backend
â””â”€â”€ vision_system/        # Vision System for crowd and vehicle analysis
```

### Security

Bulo.Cloud Sentinel takes security seriously. We have implemented comprehensive security measures throughout the platform:

- **ğŸ” Security Documentation**: Detailed security documentation is available in the [SECURITY.md](SECURITY.md) file, [security guidelines](docs/security_guidelines.md), and [security incident response plan](docs/security_incident_response_plan.md).
- **ğŸ”’ Security Features**: The platform includes advanced security features such as multi-factor authentication, role-based access control, and data encryption.
- **ğŸ” Security Scanning**: Automated security scanning is integrated into the CI/CD pipeline to detect vulnerabilities.
- **ğŸ›¡ï¸ Vulnerability Reporting**: If you discover a security vulnerability, please follow the reporting process outlined in [SECURITY.md](SECURITY.md).
- **ğŸ“ Security Updates**: Security updates are documented in [security_vulnerability_fixes.md](docs/security_vulnerability_fixes.md).
- **ğŸ”’ Recent Security Improvements**:
  - Enhanced JWT token validation with full signature verification and expiration checks
  - Secure session management with strict cookie settings (SameSite=strict, HTTPS-only)
  - Restricted CORS settings to prevent cross-origin attacks
  - Secure password handling with Argon2id hashing
  - Removed hardcoded credentials and API keys
  - Updated vulnerable dependencies (python-jose, python-multipart, cryptography, pillow)
  - Added Content Security Policy (CSP) headers
  - Implemented token revocation and blacklisting
  - Added advanced rate limiting for authentication endpoints
  - Enhanced password validation with checks for common passwords
  - Implemented secure file upload validation
  - Added comprehensive security headers (HSTS, X-Content-Type-Options, etc.)
  - Centralized security configuration
  - Implemented automated security testing with OWASP ZAP
  - Added security monitoring and alerting system
  - Created comprehensive secure coding guidelines
  - Implemented security incident response plan
  - Enhanced CI/CD pipeline with additional security scanning tools

For more information about security features, see the [Security Module](#-security-module) section.

### Contributing

1. Fork the repository
2. Create a feature branch: `git checkout -b feature/my-feature`
3. Commit your changes: `git commit -am 'Add new feature'`
4. Push to the branch: `git push origin feature/my-feature`
5. Submit a pull request
6. Follow the [security guidelines](docs/security_guidelines.md) when contributing code

## ğŸ“„ License

This project is licensed under the MIT License, a permissive free software license that allows anyone to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the software.

In simple terms:
- âœ… You can use this code for commercial purposes
- âœ… You can modify the code and create derivative works
- âœ… You can distribute the original or modified code
- âœ… You can include this code in projects using different licenses
- âœ… No warranty is provided, and the authors have no liability for damages

